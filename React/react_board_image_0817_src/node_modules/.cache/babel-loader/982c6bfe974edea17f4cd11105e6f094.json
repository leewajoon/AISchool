{"ast":null,"code":"var _jsxFileName = \"C:\\\\Project\\\\React\\\\react_board_image_0817_src\\\\src\\\\BoardWrite.js\",\n    _s = $RefreshSig$();\n\nimport { useRef, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BoardWrite = _ref => {\n  _s();\n\n  let {\n    handlelist\n  } = _ref;\n  const titleRef = useRef();\n  const writerRef = useRef();\n  const contentRef = useRef();\n  const imageRef = useRef();\n  const [image_name, setImage_name] = useState(\"\");\n\n  function onImage(e) {\n    setImage_name(e.target.files[0]);\n  }\n\n  const handleInsert = e => {\n    console.log(\"handleInsert =>\", titleRef.current.value);\n    e.preventDefault();\n\n    if (titleRef.current.value === \"\" || titleRef.current.value === undefined) {\n      alert(\"제목을 입력하세요!!!\");\n      titleRef.current.focus();\n      return false;\n    }\n\n    if (writerRef.current.value === \"\" || writerRef.current.value === undefined) {\n      alert(\"글쓴이를 입력하세요!!!\");\n      writerRef.current.focus();\n      return false;\n    }\n\n    if (contentRef.current.value === \"\" || contentRef.current.value === undefined) {\n      alert(\"내용을 입력하세요!!!\");\n      contentRef.current.focus();\n      return false;\n    }\n\n    if (imageRef.current.value === \"\" || imageRef.current.value === undefined) {\n      alert(\"이미지를 선택하세요!!!\");\n      return false;\n    }\n\n    const config = {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    }; // const formData = new FormData();\n    // formData.append(\"image\", imageRef.current.value);\n    // alert(formData);\n\n    axios.post(\"http://localhost:8008/insert\", {\n      title: titleRef.current.value,\n      writer: writerRef.current.value,\n      content: contentRef.current.value,\n      image: image_name\n    }, config) // axios({\n    //   headers: {\n    //     \"Content-Type\": \"multipart/form-data\",\n    //   },\n    //   url: \"http://localhost:8008/insert\", // 파일 업로드 요청 URL\n    //   method: \"POST\",\n    //   data: {\n    //     title: titleRef.current.value,\n    //     writer: writerRef.current.value,\n    //     content: contentRef.current.value,\n    //     image: image_name,\n    //   },\n    // })\n    .then(res => {\n      console.log(\"handleInsert =>\", res);\n      handlelist();\n      titleRef.current.value = \"\";\n      writerRef.current.value = \"\";\n      contentRef.current.value = \"\";\n    }).catch(e => {\n      console.error(e);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      encType: \"multipart/form-data\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        border: \"1\",\n        width: \"700px\",\n        align: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            width: \"100px\",\n            children: \"\\uC81C\\uBAA9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            align: \"left\",\n            width: \"550px\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"title\",\n              size: \"68\",\n              ref: titleRef,\n              placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            width: \"100px\",\n            children: \"\\uAE00\\uC4F4\\uC774\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            align: \"left\",\n            width: \"550px\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"writer\",\n              size: \"68\",\n              ref: writerRef,\n              placeholder: \"\\uAE00\\uC4F4\\uC774\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"\\uB0B4\\uC6A9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            align: \"left\",\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              rows: \"5\",\n              cols: \"70\",\n              name: \"content\",\n              ref: contentRef,\n              placeholder: \"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"\\uC774\\uBBF8\\uC9C0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            align: \"left\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              name: \"image\",\n              ref: imageRef,\n              accept: \"image/*\",\n              onChange: onImage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"2\",\n            align: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              value: \"\\uAE00\\uC4F0\\uAE30\",\n              onClick: handleInsert\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"reset\",\n              value: \"\\uCDE8\\uC18C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BoardWrite, \"gStJSFY3t7ymODl7YoTiqjHDDVI=\");\n\n_c = BoardWrite;\nexport default BoardWrite;\n\nvar _c;\n\n$RefreshReg$(_c, \"BoardWrite\");","map":{"version":3,"names":["useRef","useState","axios","BoardWrite","handlelist","titleRef","writerRef","contentRef","imageRef","image_name","setImage_name","onImage","e","target","files","handleInsert","console","log","current","value","preventDefault","undefined","alert","focus","config","headers","post","title","writer","content","image","then","res","catch","error"],"sources":["C:/Project/React/react_board_image_0817_src/src/BoardWrite.js"],"sourcesContent":["import { useRef, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst BoardWrite = ({ handlelist }) => {\r\n  const titleRef = useRef();\r\n  const writerRef = useRef();\r\n  const contentRef = useRef();\r\n  const imageRef = useRef();\r\n\r\n  const [image_name, setImage_name] = useState(\"\");\r\n\r\n  function onImage(e) {\r\n    setImage_name(e.target.files[0]);\r\n  }\r\n\r\n  const handleInsert = (e) => {\r\n    console.log(\"handleInsert =>\", titleRef.current.value);\r\n    e.preventDefault();\r\n    if (titleRef.current.value === \"\" || titleRef.current.value === undefined) {\r\n      alert(\"제목을 입력하세요!!!\");\r\n      titleRef.current.focus();\r\n      return false;\r\n    }\r\n    if (\r\n      writerRef.current.value === \"\" ||\r\n      writerRef.current.value === undefined\r\n    ) {\r\n      alert(\"글쓴이를 입력하세요!!!\");\r\n      writerRef.current.focus();\r\n      return false;\r\n    }\r\n    if (\r\n      contentRef.current.value === \"\" ||\r\n      contentRef.current.value === undefined\r\n    ) {\r\n      alert(\"내용을 입력하세요!!!\");\r\n      contentRef.current.focus();\r\n      return false;\r\n    }\r\n    if (imageRef.current.value === \"\" || imageRef.current.value === undefined) {\r\n      alert(\"이미지를 선택하세요!!!\");\r\n      return false;\r\n    }\r\n\r\n    const config = {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    };\r\n    // const formData = new FormData();\r\n    // formData.append(\"image\", imageRef.current.value);\r\n    // alert(formData);\r\n    axios\r\n      .post(\r\n        \"http://localhost:8008/insert\",\r\n        {\r\n          title: titleRef.current.value,\r\n          writer: writerRef.current.value,\r\n          content: contentRef.current.value,\r\n          image: image_name,\r\n        },\r\n        config\r\n      )\r\n      // axios({\r\n      //   headers: {\r\n      //     \"Content-Type\": \"multipart/form-data\",\r\n      //   },\r\n      //   url: \"http://localhost:8008/insert\", // 파일 업로드 요청 URL\r\n      //   method: \"POST\",\r\n      //   data: {\r\n      //     title: titleRef.current.value,\r\n      //     writer: writerRef.current.value,\r\n      //     content: contentRef.current.value,\r\n      //     image: image_name,\r\n      //   },\r\n      // })\r\n      .then((res) => {\r\n        console.log(\"handleInsert =>\", res);\r\n        handlelist();\r\n        titleRef.current.value = \"\";\r\n        writerRef.current.value = \"\";\r\n        contentRef.current.value = \"\";\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form encType=\"multipart/form-data\">\r\n        <table border=\"1\" width=\"700px\" align=\"center\">\r\n          <tr>\r\n            <td width=\"100px\">제목</td>\r\n            <td align=\"left\" width=\"550px\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"title\"\r\n                size=\"68\"\r\n                ref={titleRef}\r\n                placeholder=\"제목을 입력하세요\"\r\n              ></input>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td width=\"100px\">글쓴이</td>\r\n            <td align=\"left\" width=\"550px\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"writer\"\r\n                size=\"68\"\r\n                ref={writerRef}\r\n                placeholder=\"글쓴이를 입력하세요\"\r\n              ></input>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>내용</td>\r\n            <td align=\"left\">\r\n              <textarea\r\n                rows=\"5\"\r\n                cols=\"70\"\r\n                name=\"content\"\r\n                ref={contentRef}\r\n                placeholder=\"내용을 입력하세요\"\r\n              ></textarea>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>이미지</td>\r\n            <td align=\"left\">\r\n              <input\r\n                type=\"file\"\r\n                name=\"image\"\r\n                ref={imageRef}\r\n                accept=\"image/*\"\r\n                onChange={onImage}\r\n              />\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td colSpan=\"2\" align=\"center\">\r\n              <input\r\n                type=\"submit\"\r\n                value=\"글쓰기\"\r\n                onClick={handleInsert}\r\n              ></input>\r\n              &nbsp;\r\n              <input type=\"reset\" value=\"취소\"></input>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BoardWrite;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}